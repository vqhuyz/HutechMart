@{ Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Home Page"; }

@section Scripts{
    <script>
            $("#thang").change(function () {
                var thang = $("#thang option:selected").val();
                console.log(thang);
            })

        window.onload = function () {


         $.getJSON("/Home/GetData", function (data) {
             var categories = []
             var series = []
             var series2 = []
             for (var i = 0; i < data.dulieu.length; i++) {
                 var sr = data.dulieu[i].data
                 var sr2 = data.dulieu[i + 1].data

                 for (var i = 0; i < sr.length; i++) {
                      categories.push(sr[i].ngay)
                      series.push(sr[i].doanhso)
                 }

                 for (var i = 0; i < sr2.length; i++) {
                     series2.push(sr2[i].doanhso)
                 }
             }

             var json = {
                 chart: {
                     type: 'column'
                 },
                 title: {
                     text: "Doanh thu tháng" + @ViewBag.Thang
                    },
                 yAxis: {
                     min: 0,
                     title: {
                         text: 'DOANH THU'
                     }
                 },
                 xAxis: {
                     categories: categories
                 },
                 series: [{
                     name: 'Doanh so ngay theo thang',
                     data: series
                 }, {
                         name: 'Doanh so ngay theo tuan',
                         data: series2
                     }]
             }
         Highcharts.chart('container', json);
     });
}
    </script>
}
<br />
<div>

</div>
<br />

<div class="col-lg-12">
    <div class="col-lg-6">
        <select id="thang" name="thang">
            @for (int i = 1; i <= 12; i++)
            {
                <option value="@i">Tháng @i</option>
            }
        </select>
        <div id="container"></div>
    </div>
</div>

